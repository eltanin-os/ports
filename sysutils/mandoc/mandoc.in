. ${PORTS}/mk/langs/C

srcdir="."
outdir="."

binaries=` cat <<-EOF
	apropos
	demandoc
	makewhatis
	man
	mandoc
	whatis

EOF
`

mandocobjs=` cat <<-EOF
	dba.c
	dba_array.c
	dba_read.c
	dba_write.c
	dbm.c
	dbm_map.c
	eqn_html.c
	eqn_term.c
	html.c
	main.c
	man_html.c
	man_term.c
	mandocdb.c
	manpath.c
	mansearch.c
	mdoc_html.c
	mdoc_man.c
	mdoc_markdown.c
	mdoc_term.c
	out.c
	roff_html.c
	roff_term.c
	tag.c
	tbl_html.c
	tbl_term.c
	term.c
	term_ascii.c
	term_ps.c
	term_tab.c
	tree.c
EOF
`

ldlibs=` cat <<-EOF
	libmandoc.a
EOF
`

libmandoc=` cat <<-EOF
	att.c
	chars.c
	compat_err.c
	compat_fts.c
	compat_getline.c
	compat_getsubopt.c
	compat_isblank.c
	compat_mkdtemp.c
	compat_ohash.c
	compat_progname.c
	compat_reallocarray.c
	compat_recallocarray.c
	compat_strcasestr.c
	compat_strlcat.c
	compat_strlcpy.c
	compat_strsep.c
	compat_strtonum.c
	compat_vasprintf.c
	eqn.c
	lib.c
	man.c
	man_macro.c
	man_validate.c
	mandoc.c
	mandoc_aux.c
	mandoc_ohash.c
	mandoc_xr.c
	mdoc.c
	mdoc_argv.c
	mdoc_macro.c
	mdoc_state.c
	mdoc_validate.c
	msec.c
	preconv.c
	read.c
	roff.c
	roff_validate.c
	st.c
	tbl.c
	tbl_data.c
	tbl_layout.c
	tbl_opts.c
EOF
`

manpages=` cat <<-EOF
	apropos.1
	demandoc.1
	eqn.7
	makewhatis.8
	man.1
	man.7
	man.conf.5
	mandoc.1
	mandoc.db.5
	mandoc_char.7
	mdoc.7
	roff.7
	tbl.7
EOF
`

lib  libmandoc.a $libmandoc
sets ldlibs      "-lz"
bin  mandoc      $mandocobjs
bin  demandoc    demandoc.c
copy apropos     mandoc
copy man         mandoc
copy whatis      mandoc
copy makewhatis  mandoc
mans $manpages
