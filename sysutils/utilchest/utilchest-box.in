. ${PORTS}/mk/langs/C

srcdir="."
outdir="."

binaries=` cat <<-EOF
	build/utilchest
EOF
`

objs=` cat <<-EOF
	build/utilchest.c
	build/basename.c
	build/cat.c
	build/chgrp.c
	build/chmod.c
	build/chown.c
	build/chroot.c
	build/clear.c
	build/cp.c
	build/date.c
	build/dirname.c
	build/domainname.c
	build/echo.c
	build/env.c
	build/false.c
	build/head.c
	build/hostname.c
	build/id.c
	build/link.c
	build/ln.c
	build/ls.c
	build/mkdir.c
	build/mkfifo.c
	build/mknod.c
	build/mv.c
	build/nice.c
	build/printenv.c
	build/pwd.c
	build/readlink.c
	build/rm.c
	build/rmdir.c
	build/sleep.c
	build/sync.c
	build/tee.c
	build/time.c
	build/true.c
	build/tty.c
	build/uname.c
	build/unlink.c
	build/whoami.c
	build/yes.c
EOF
`

ldlibs=` cat <<-EOF
	${outdir}/libutf/libutf.a
	${outdir}/libutil/libutil.a
`

libutf=` cat <<-EOF
	lib/utf/chartorune.c
	lib/utf/iscntrlrune.c
	lib/utf/isprintrune.c
	lib/utf/isvalidrune.c
	lib/utf/runetype.c
EOF
`

libutil=` cat <<-EOF
	lib/util/chown.c
	lib/util/cp.c
	lib/util/dir.c
	lib/util/ealloc.c
	lib/util/mode.c
	lib/util/pathcat.c
	lib/util/stoll.c
EOF
`

manpages=` cat <<-EOF
	man/basename.1
	man/cat.1
	man/chgrp.1
	man/chmod.1
	man/cp.1
	man/dirname.1
	man/domainname.1
	man/echo.1
	man/env.1
	man/false.1
	man/head.1
	man/hostname.1
	man/link.1
	man/ls.1
	man/mkdir.1
	man/mkfifo.1
	man/mknod.1
	man/mv.1
	man/nice.1
	man/printenv.1
	man/pwd.1
	man/rm.1
	man/rmdir.1
	man/sleep.1
	man/tee.1
	man/time.1
	man/true.1
	man/uname.1
	man/unlink.1
	man/whoami.1
	man/yes.1
EOF
`

sets cflags "\$cflags -I\$srcdir/inc"
lib  libutf/libutf.a   $libutf
lib  libutil/libutil.a $libutil
bin  build/utilchest   $objs
mans $manpages
