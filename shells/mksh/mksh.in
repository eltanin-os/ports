. ${PORTS}/mk/langs/C

srcdir="."
outdir="."

binaries=` cat <<-EOF
	mksh
	lksh
EOF
`

mkshobjs=` cat <<-EOF
	edit.c
	eval.c
	exec.c
	expr.c
	funcs.c
	histrap.c
	jobs.c
	lalloc.c
	lex.c
	main.c
	misc.c
	shf.c
	syn.c
	tree.c
	var.c
EOF
`

manpages=` cat <<-EOF
	lksh.1
	mksh.1
EOF
`

#rules
case $CPPFLAGS in
	*"-include../buildext/lksh_config.h"*) bname="lksh" ;;
	*)      bname="mksh" ;;
esac

sets cppflags "\$cppflags -D_GNU_SOURCE"
bin $bname $mkshobjs
mans $manpages
